import { URLBuilderExecutionContext, URLDeleteOptions } from "../types/url";



/**
 * Generate Delete Document URL
 * 
 * given a document id it return back the url needed to delete a document at Lableb Cloud
 * 
 * @param {object} deleteOptions
 * @param {number} deleteOptions.documentId - document id that will be deleted
 * 
 * @return {string} URL used for the Delete request
 */
export function deleteDocumentURL(

    this: URLBuilderExecutionContext,

    { documentId }: URLDeleteOptions,

) {

    /**
     * check for properties existence in options
     */
    this.checkExistence({
        functionName: 'deleteDocumentURL',
        properties: ['baseURL', 'projectName', 'collectionName', 'indexToken']
    });

    /**
     * destructor properties
     */
    const { baseURL, projectName, collectionName, indexToken } = this.options;

    return `${baseURL}/projects/${projectName}/collections/${collectionName}/documents/${documentId}?token=${indexToken}`;
}

