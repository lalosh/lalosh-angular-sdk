import { LablebSDK } from "../../src/core";


let sdk = LablebSDK({
    collectionName: process.env.SDK_OPTIONS_COLLECTION_NAME || '',
    projectName: process.env.SDK_OPTIONS_PROJECT_NAME || '',
    autoCompleteHandler: process.env.SDK_OPTIONS_AUTO_COMPLETE_HANDLER || '',
    indexToken: process.env.SDK_OPTIONS_INDEX_TOKEN || '',
    recommendHandler: process.env.SDK_OPTIONS_RECOMMEND_HANDLER || '',
    searchHandler: process.env.SDK_OPTIONS_SEARCH_HANDLER || '',
    searchToken: process.env.SDK_OPTIONS_SEARCH_TOKEN || '',
});




describe('TEST SDK', () => {

    test('Test Autocomplete with feedback', async () => {

        try {
            let response: any = await sdk.autocomplete({
                query: 'time',
            });

            expect(response.found_documents).toBeGreaterThan(0);

            let feedBackResponse = await sdk.autocompleteFeedbackFromURL(response.results[0].feedbackUrl);

        } catch (error) {
            console.error(error)
        }
    });

});