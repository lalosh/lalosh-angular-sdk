import axios from "axios";
import { HttpMethodParams } from "../../types/http/options";
import { PartialBy } from "../../types/utils/partial-by";
import { axiosResponseMapper, httpErrorLogger } from "../http.utils";


/**
 * @function httpGet 
 * 
 * send get request in browser
 * 
 * @param {object} options 
 * @param {string} options.url - request url
 * @param {object} options.headers - key-value headers to send with the request
 * @param {object} options.params - request url' params
 * 
 * @returns {Promise} - get response
 */
export function httpGet(

    { url, headers, params }:

        PartialBy<
            Omit<HttpMethodParams, "body">,
            "headers" | "params"
        >

) {

    try {

        return axios.get(url, { headers, params }).then(axiosResponseMapper);

    } catch (error) {

        httpErrorLogger(error, 'Get');

        throw error;
    }
}
