import { HttpFormDataBody, } from "../types/http/body";


/**
 * log errors
 * 
 * @param {Error} error 
 * @param {string} functionName 
 */
export function httpErrorLogger(error: Error, functionName: string) {
    console.error('------------------');
    console.error(`Error at ${functionName} function in HTTP Module`);
    console.error(error);
    console.error('------------------');
}



/**
 * convert js object into form data object
 * 
 * @param {object} obj 
 */
export function toFormData(obj: HttpFormDataBody) {

    let formData = new FormData();

    Object.keys(obj).forEach(key => {

        let value = obj[key];

        formData.append(key, typeof value === 'object' ? value : String(value))
    });

    return formData;
}

export const streamToJson = (res: any) => res.json();
export const fetchResponseMapper = (res: any) => res.response;

export const axiosResponseMapper = (res: any) => res.data.response;