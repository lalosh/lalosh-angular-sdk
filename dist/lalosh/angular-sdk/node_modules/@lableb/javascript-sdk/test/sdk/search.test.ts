import { LablebSDK } from "../../src/core";


let sdk = LablebSDK({
    collectionName: process.env.SDK_OPTIONS_COLLECTION_NAME || '',
    projectName: process.env.SDK_OPTIONS_PROJECT_NAME || '',
    autoCompleteHandler: process.env.SDK_OPTIONS_AUTO_COMPLETE_HANDLER || '',
    indexToken: process.env.SDK_OPTIONS_INDEX_TOKEN || '',
    recommendHandler: process.env.SDK_OPTIONS_RECOMMEND_HANDLER || '',
    searchHandler: process.env.SDK_OPTIONS_SEARCH_HANDLER || '',
    searchToken: process.env.SDK_OPTIONS_SEARCH_TOKEN || '',
    generateSessionId: () => String('12345')
});




describe('TEST SDK', () => {


    test('Test Search with Feedback', async () => {

        let response: any = await sdk.search({
            query: 'time',
            itemURLSchema: 'https://www.my-website.com/all-tasks/all-items/{id}'
        });

        expect(response.found_documents).toBeGreaterThan(0);


        let feedBackResponse = await sdk.searchFeedbackFromURL(response.results[0].feedbackUrl);
    });


});